<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyzing SFO Landing • sfo</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Analyzing SFO Landing">
<meta property="og:description" content="sfo">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sfo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/v1_intro.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/v2_analyzing_sfo.html">Analyzing SFO Passengers</a>
    </li>
    <li>
      <a href="../articles/v3_analyzing_landing.html">Analyzing SFO Landing</a>
    </li>
    <li>
      <a href="../articles/v3_sankey.html">Create Sankey Diagram</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="v3_analyzing_landing_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="v3_analyzing_landing_files/plotly-binding-4.10.1/plotly.js"></script><script src="v3_analyzing_landing_files/typedarray-0.1/typedarray.min.js"></script><script src="v3_analyzing_landing_files/jquery-3.5.1/jquery.min.js"></script><link href="v3_analyzing_landing_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="v3_analyzing_landing_files/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="v3_analyzing_landing_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="v3_analyzing_landing_files/plotly-main-2.11.1/plotly-latest.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Analyzing SFO Landing</h1>
            
      
      
      <div class="hidden name"><code>v3_analyzing_landing.Rmd</code></div>

    </div>

    
    
<p>The <code>sfo_stats</code> dataset provides monthly statistics on San Francisco International Airport’s air traffic landing between July 2005 and December 2020. The following vignette demonstrate some approaches for exploring the dataset. As the structure of the <code>sfo_stats</code> is similar to the <code>sfo_passengers</code> dataset, we will repeat the same data prep steps as shown on the previous vignette. We will use the <strong>dplyr</strong> and <strong>plotly</strong> packages for data manipulation and visualization, respectively.</p>
<div class="section level3">
<h3 id="data-prep">Data prep<a class="anchor" aria-label="anchor" href="#data-prep"></a>
</h3>
<p>For simplicity, let’s use a shorter name , <code>d</code>, for the dataset:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">sfo</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com" class="external-link">plotly</a></span><span class="op">)</span>

<span class="va">d</span> <span class="op">&lt;-</span> <span class="va">sfo_stats</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span>
<span class="co">#&gt;   activity_period operating_airline operating_airline_iata_code</span>
<span class="co">#&gt; 1          202212        Air Canada                          AC</span>
<span class="co">#&gt; 2          202212   Delta Air Lines                          DL</span>
<span class="co">#&gt; 3          202212   Delta Air Lines                          DL</span>
<span class="co">#&gt; 4          202212  WestJet Airlines                          WS</span>
<span class="co">#&gt; 5          202212  WestJet Airlines                          WS</span>
<span class="co">#&gt; 6          202212  WestJet Airlines                          WS</span>
<span class="co">#&gt;   published_airline published_airline_iata_code   geo_summary geo_region</span>
<span class="co">#&gt; 1        Air Canada                          AC International     Canada</span>
<span class="co">#&gt; 2   Delta Air Lines                          DL      Domestic         US</span>
<span class="co">#&gt; 3   Delta Air Lines                          DL      Domestic         US</span>
<span class="co">#&gt; 4  WestJet Airlines                          WS International     Canada</span>
<span class="co">#&gt; 5  WestJet Airlines                          WS International     Canada</span>
<span class="co">#&gt; 6  WestJet Airlines                          WS International     Canada</span>
<span class="co">#&gt;   landing_aircraft_type aircraft_body_type aircraft_manufacturer aircraft_model</span>
<span class="co">#&gt; 1             Passenger          Wide Body                Boeing           B773</span>
<span class="co">#&gt; 2             Passenger        Narrow Body                Airbus           A319</span>
<span class="co">#&gt; 3             Passenger        Narrow Body                Airbus           A320</span>
<span class="co">#&gt; 4             Passenger        Narrow Body                Boeing           B38M</span>
<span class="co">#&gt; 5             Passenger        Narrow Body                Boeing           B737</span>
<span class="co">#&gt; 6             Passenger        Narrow Body                Boeing           B738</span>
<span class="co">#&gt;   aircraft_version landing_count total_landed_weight</span>
<span class="co">#&gt; 1                -             1              554000</span>
<span class="co">#&gt; 2                -           163            22459444</span>
<span class="co">#&gt; 3                -            43             6114514</span>
<span class="co">#&gt; 4                -             5              764000</span>
<span class="co">#&gt; 5                -             5              646000</span>
<span class="co">#&gt; 6                -             3              438900</span></code></pre></div>
<p>Next, let’s reformat the period indicator, <code>activity_period</code> to a <code>Date</code> object, setting the first day of the month as the default day:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span><span class="op">$</span><span class="va">date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">activity_period</span>, <span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span>, 
                        <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">d</span><span class="op">$</span><span class="va">activity_period</span>, <span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>, 
                        <span class="st">"01"</span>, sep <span class="op">=</span><span class="st">"/"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>We can see, with the <code>str</code> command, the stucture of the dataset:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    57381 obs. of  15 variables:</span>
<span class="co">#&gt;  $ activity_period            : int  202212 202212 202212 202212 202212 202212 202212 202212 202212 202212 ...</span>
<span class="co">#&gt;  $ operating_airline          : chr  "Air Canada" "Delta Air Lines" "Delta Air Lines" "WestJet Airlines" ...</span>
<span class="co">#&gt;  $ operating_airline_iata_code: chr  "AC" "DL" "DL" "WS" ...</span>
<span class="co">#&gt;  $ published_airline          : chr  "Air Canada" "Delta Air Lines" "Delta Air Lines" "WestJet Airlines" ...</span>
<span class="co">#&gt;  $ published_airline_iata_code: chr  "AC" "DL" "DL" "WS" ...</span>
<span class="co">#&gt;  $ geo_summary                : chr  "International" "Domestic" "Domestic" "International" ...</span>
<span class="co">#&gt;  $ geo_region                 : chr  "Canada" "US" "US" "Canada" ...</span>
<span class="co">#&gt;  $ landing_aircraft_type      : chr  "Passenger" "Passenger" "Passenger" "Passenger" ...</span>
<span class="co">#&gt;  $ aircraft_body_type         : chr  "Wide Body" "Narrow Body" "Narrow Body" "Narrow Body" ...</span>
<span class="co">#&gt;  $ aircraft_manufacturer      : chr  "Boeing" "Airbus" "Airbus" "Boeing" ...</span>
<span class="co">#&gt;  $ aircraft_model             : chr  "B773" "A319" "A320" "B38M" ...</span>
<span class="co">#&gt;  $ aircraft_version           : chr  "-" "-" "-" "-" ...</span>
<span class="co">#&gt;  $ landing_count              : int  1 163 43 5 5 3 22 33 19 269 ...</span>
<span class="co">#&gt;  $ total_landed_weight        : int  554000 22459444 6114514 764000 646000 438900 8360000 5660127 2779700 42313700 ...</span>
<span class="co">#&gt;  $ date                       : Date, format: "2022-12-01" "2022-12-01" ...</span></code></pre></div>
<p>The data set has 11 categorical variables and two numeric variables - <code>landing_count</code> and <code>total_landed_weight</code>.</p>
</div>
<div class="section level3">
<h3 id="exploratory-analysis">Exploratory analysis<a class="anchor" aria-label="anchor" href="#exploratory-analysis"></a>
</h3>
<p>Let’s start with viewing the total monthly number of landing in SFO:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>landing_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">landing_count</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html" class="external-link">plot_ly</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">date</span>, y <span class="op">=</span> <span class="op">~</span> <span class="va">landing_count</span>,
          type <span class="op">=</span> <span class="st">"scatter"</span>, mode <span class="op">=</span> <span class="st">"lines"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/layout.html" class="external-link">layout</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Montly Landing in SFO Airport"</span>,
         yaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Number of Landing"</span><span class="op">)</span>,
         xaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Source: San Francisco data portal (DataSF)"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-408f396b816e6bd08f8d" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-408f396b816e6bd08f8d">{"x":{"visdat":{"10b596f814874":["function () ","plotlyVisDat"]},"cur_data":"10b596f814874","attrs":{"10b596f814874":{"x":{},"y":{},"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Montly Landing in SFO Airport","yaxis":{"domain":[0,1],"automargin":true,"title":"Number of Landing"},"xaxis":{"domain":[0,1],"automargin":true,"title":"Source: San Francisco data portal (DataSF)"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01"],"y":[28128,28124,26044,26720,25352,26058,25606,23200,26178,25854,26728,27046,28236,28708,26080,26908,25778,26698,26352,23488,26954,26436,28434,28826,29936,30508,28782,29764,28534,29208,27598,26702,29506,28938,30456,30882,32636,32160,28414,29182,26886,27892,27584,25066,28706,27988,29618,30824,32206,32152,29078,29628,27990,29020,28208,25700,29484,28838,30116,30684,32186,32288,29880,30638,28994,29430,28966,26258,30132,29552,31038,32124,33376,33700,32006,32720,30536,31746,30608,29300,31646,32064,33802,34426,36226,36442,33034,33696,30966,31480,30502,27758,31804,31596,33554,33788,34466,36018,33592,34394,31842,33022,31930,27928,33264,33402,34804,34574,36168,36066,33782,35304,31934,32282,31386,27986,32904,32198,33894,34116,35772,36048,33006,34746,32472,32784,31306,29796,33550,33600,35896,36414,37936,38928,35482,35410,33622,34212,31974,28600,34070,32878,35664,37174,39402,40560,36578,37450,35250,36958,34754,31350,35906,35480,37234,38142,39364,39752,35628,36664,34542,35416,33378,29500,34946,34710,36252,37322,39316,41618,32722,36080,33646,34906,33918,31472,27822,7014,7740,9950,14512,15510,14272,15322,15334,15636,14430,12564,15312,15486,16696,19482,22460,23266,23146,24248,23750,24128,23136,21884,25216,25926,27222,28528,14832,14739,13884,14102,12997,13117],"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>As can seen in the aggregate plot above, the data has:</p>
<ul>
<li>Strong seasonality, high activity during the summer mounts and low during winter time.</li>
<li>A significant drop in the number of landing since March 2020 due to the Covid19 pandemic</li>
</ul>
<p>We can use plotly’s fill plot to review the distribution of landing at SFO by geo region:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">geo_region</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>landing_count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">landing_count</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
<span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html" class="external-link">plot_ly</a></span><span class="op">(</span>x <span class="op">=</span> <span class="op">~</span> <span class="va">date</span>, 
        y <span class="op">=</span> <span class="op">~</span> <span class="va">landing_count</span>,
        type <span class="op">=</span> <span class="st">'scatter'</span>, 
        mode <span class="op">=</span> <span class="st">'none'</span>, 
        stackgroup <span class="op">=</span> <span class="st">'one'</span>, 
        groupnorm <span class="op">=</span> <span class="st">'percent'</span>, fillcolor <span class="op">=</span> <span class="op">~</span> <span class="va">geo_region</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/layout.html" class="external-link">layout</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Dist. of Landing at SFO by Region"</span>,
         yaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Percentage"</span>,
                      ticksuffix <span class="op">=</span> <span class="st">"%"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-fae445a10273e6ada031" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-fae445a10273e6ada031">{"x":{"visdat":{"10b5922c245c0":["function () ","plotlyVisDat"]},"cur_data":"10b5922c245c0","attrs":{"10b5922c245c0":{"x":{},"y":{},"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Dist. of Landing at SFO by Region","yaxis":{"domain":[0,1],"automargin":true,"title":"Percentage","ticksuffix":"%"},"xaxis":{"domain":[0,1],"automargin":true,"title":"date"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01"],"y":[1646,1622,1498,1516,1494,1532,1494,1358,1558,1538,1622,1600,1616,1588,1538,1582,1546,1630,1530,1396,1596,1580,1644,1664,1712,1662,1652,1730,1650,1686,1588,1500,1640,1534,1604,1616,1688,1680,1488,1564,1460,1512,1474,1254,1422,1438,1450,1450,1500,1472,1388,1390,1312,1370,1366,1200,1352,1390,1452,1450,1472,1490,1400,1422,1308,1378,1378,1222,1384,1342,1470,1484,1522,1524,1410,1308,1316,1380,1226,1272,1394,1392,1440,1448,1506,1464,1426,1470,1440,1422,1400,1244,1396,1430,1578,1546,1562,1578,1534,1538,1488,1536,1510,1344,1550,1538,1580,1552,1622,1612,1524,1586,1520,1588,1632,1450,1616,1608,1640,1682,1788,1746,1610,1696,1606,1712,1706,1556,1828,1646,1878,1906,1952,1990,1934,2048,1968,2080,2044,1790,1994,1946,2088,2064,2142,2134,2030,2088,1986,2088,2092,1828,2080,2086,2152,2098,2158,2158,1994,2128,2084,2198,2166,1888,2166,2196,2310,2230,2256,2326,2158,2186,2128,2294,2284,1662,1136,472,890,834,854,818,808,872,980,1120,1088,962,1082,1042,1082,1090,1148,1256,1218,1284,1320,1354,1314,1186,1318,1216,1272,1302,710,716,707,736,731,801],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"Asia","type":"scatter","name":"Asia","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01"],"y":[90,88,86,88,88,128,122,104,118,130,130,162,176,162,146,148,138,178,176,136,154,164,166,180,194,180,164,168,162,184,190,158,170,162,168,164,158,162,162,164,142,166,168,134,148,140,144,138,156,150,138,144,138,140,148,128,142,136,138,132,142,134,136,142,130,154,160,140,150,140,116,102,108,102,106,116,102,120,126,108,108,102,106,104,116,108,104,114,112,124,124,108,104,120,124,120,116,116,120,126,120,124,122,114,124,120,124,118,122,116,120,124,120,140,148,134,128,116,120,120,124,114,120,124,118,152,186,164,178,168,176,176,222,202,198,204,204,252,262,210,232,202,170,188,204,196,188,192,206,280,268,214,236,190,206,216,228,220,248,260,312,334,346,294,338,294,296,298,304,310,294,302,340,380,382,362,294,70,82,96,130,150,148,124,118,124,120,94,98,92,98,108,118,118,126,132,154,208,176,166,176,192,192,216,114,110,106,129,163,187],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"Australia / Oceania","type":"scatter","name":"Australia / Oceania","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01"],"y":[1280,1266,1054,1076,1004,1108,1074,988,1156,1126,1244,1278,1394,1384,1184,1168,1110,1160,1148,1048,1136,1138,1234,1288,1492,1486,1584,1284,1162,1226,1224,1176,1254,1184,1290,1414,1630,1642,1372,1266,1000,1094,1028,1004,1164,1096,1248,1324,1436,1512,1352,1182,1008,1098,1082,982,1066,1042,1284,1360,1566,1570,1516,1450,1188,1222,1198,1092,1270,1168,1326,1364,1522,1536,1324,1320,1024,1128,796,964,1016,1026,1314,1392,1544,1512,1456,1306,964,1034,952,914,1056,1010,1354,1402,1474,1540,1410,1242,996,1042,986,936,1084,1072,1470,1550,1588,1630,1476,1362,1008,1132,998,924,1130,1044,1496,1552,1602,1580,1404,1212,912,1054,940,872,946,906,1294,1420,1448,1454,1326,1226,828,940,908,830,1050,972,1366,1414,1576,1578,1436,1300,922,1024,950,890,1112,1066,1368,1572,1648,1658,1540,1374,1018,1116,1072,974,1040,1126,1470,1682,1790,1788,1552,1518,1140,1202,1108,1026,858,92,14,78,200,192,184,166,156,176,120,94,86,92,124,188,342,468,526,580,518,572,530,440,566,670,978,1352,698,675,635,566,423,423],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"Canada","type":"scatter","name":"Canada","marker":{"color":"rgba(44,160,44,1)","line":{"color":"rgba(44,160,44,1)"}},"error_y":{"color":"rgba(44,160,44,1)"},"error_x":{"color":"rgba(44,160,44,1)"},"line":{"color":"rgba(44,160,44,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2016-04-01","2016-08-01","2017-09-01"],"y":[2,2,2],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"Caribbean","type":"scatter","name":"Caribbean","marker":{"color":"rgba(214,39,40,1)","line":{"color":"rgba(214,39,40,1)"}},"error_y":{"color":"rgba(214,39,40,1)"},"error_x":{"color":"rgba(214,39,40,1)"},"line":{"color":"rgba(214,39,40,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01"],"y":[124,124,76,72,68,120,98,66,70,70,70,76,92,96,52,54,68,96,82,64,72,68,70,96,124,124,70,70,70,112,90,58,62,60,38,56,84,70,60,62,60,88,78,56,62,60,62,78,90,82,60,62,60,100,82,56,62,60,62,78,104,114,84,72,70,114,100,72,90,84,78,96,114,116,84,88,86,116,100,82,86,84,90,100,112,114,84,82,84,120,102,78,90,82,90,86,116,114,84,86,86,86,90,80,88,86,88,86,90,94,84,90,88,92,98,80,88,86,88,92,124,124,114,150,146,182,168,140,150,148,148,148,156,158,144,148,208,222,222,192,184,184,182,206,226,220,180,186,190,244,238,206,264,256,266,258,266,260,226,220,240,260,256,210,230,224,234,240,248,230,218,224,236,272,262,228,146,2,2,16,36,68,92,92,74,44,48,56,94,132,136,92,112,148,214,216,144,154,162,166,174,99,95,77,81,80,95],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"Central America","type":"scatter","name":"Central America","marker":{"color":"rgba(148,103,189,1)","line":{"color":"rgba(148,103,189,1)"}},"error_y":{"color":"rgba(148,103,189,1)"},"error_x":{"color":"rgba(148,103,189,1)"},"line":{"color":"rgba(148,103,189,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01"],"y":[742,740,698,702,596,606,616,554,624,614,648,654,678,680,632,646,614,624,634,574,640,628,694,676,700,702,676,704,706,716,722,686,740,734,754,728,756,742,716,718,618,630,644,556,650,692,716,694,722,718,682,624,522,512,526,464,564,546,684,748,782,774,736,742,582,558,608,552,622,718,756,750,790,796,768,764,554,572,686,526,602,722,794,848,872,874,826,758,542,526,576,550,592,702,920,904,910,936,890,854,668,670,680,604,704,782,906,942,962,974,894,874,694,686,720,636,746,872,1016,1072,1166,1158,1038,1006,784,818,852,776,888,942,1096,1158,1274,1288,1198,1136,876,924,952,866,988,1104,1222,1384,1422,1422,1288,1128,916,930,964,852,994,1060,1324,1432,1526,1528,1436,1346,1060,1066,1084,972,1110,1344,1540,1550,1668,1668,1578,1530,1248,1244,1176,1076,800,40,62,92,246,324,350,358,324,306,276,248,276,278,322,434,604,626,698,720,676,816,778,576,862,1160,1366,1484,777,800,750,671,494,524],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"Europe","type":"scatter","name":"Europe","marker":{"color":"rgba(140,86,75,1)","line":{"color":"rgba(140,86,75,1)"}},"error_y":{"color":"rgba(140,86,75,1)"},"error_x":{"color":"rgba(140,86,75,1)"},"line":{"color":"rgba(140,86,75,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01"],"y":[392,384,372,392,452,472,464,426,474,464,406,402,480,470,346,412,536,544,502,446,496,470,404,432,460,456,336,414,460,510,472,438,484,452,410,390,382,438,304,310,410,484,464,464,538,520,464,520,492,494,388,404,506,558,548,482,538,520,546,520,542,464,240,248,364,440,442,410,454,494,464,462,504,460,390,416,460,688,708,656,712,686,644,814,638,800,526,618,740,684,668,578,644,586,584,578,618,624,514,556,602,724,674,614,762,714,762,802,818,740,484,492,644,688,668,588,724,708,670,664,718,672,502,588,718,792,736,664,744,734,672,776,952,836,594,644,806,988,850,704,832,872,820,900,1030,936,664,732,934,1062,932,780,972,902,834,882,922,806,570,670,820,1006,828,666,794,754,756,880,904,812,584,648,838,930,762,644,622,44,8,8,254,274,368,520,644,540,320,366,322,520,626,698,702,580,660,766,900,738,644,778,854,802,812,429,405,313,323,420,494],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"Mexico","type":"scatter","name":"Mexico","marker":{"color":"rgba(227,119,194,1)","line":{"color":"rgba(227,119,194,1)"}},"error_y":{"color":"rgba(227,119,194,1)"},"error_x":{"color":"rgba(227,119,194,1)"},"line":{"color":"rgba(227,119,194,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01"],"y":[14,28,24,26,26,62,60,62,62,60,62,60,62,62,56,62,60,62,60,62,62,60,62,60,62,62,56,62,60,62,60,62,62,60,62,60,62,62,58,62,60,62,60,62,62,60,62,60,62,62,56,62,60,62,60,62,62,60,62,60,62,62,56,62,60,62,60,62,62,60,62,86,124,124,112,124,120,124,120,124,124,120,124,120,124,124,116,144,28,24,28,24,26,50,60,62,62,54,62,58,64,58,62,62,58,66,60,62,62,54,60,54,62,56,62,62,48,62,60,60,62,56,62,54,62,60,62,62,58,54,58,62,66,74,50,26,26,24,24,24,26,24,24,16,26,16,58,62,62,56,42,32,36,34,24,28,28,42,58,30,31,30,30,29,31],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"Middle East","type":"scatter","name":"Middle East","marker":{"color":"rgba(127,127,127,1)","line":{"color":"rgba(127,127,127,1)"}},"error_y":{"color":"rgba(127,127,127,1)"},"error_x":{"color":"rgba(127,127,127,1)"},"line":{"color":"rgba(127,127,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2010-05-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2016-10-01","2017-01-01","2017-08-01"],"y":[2,36,36,34,34,36,34,36,32,36,34,32,28,34,36,26,26,26,36,34,24,28,24,28,26,26,26,26,34,34,34,34,32,36,32,32,32,26,32,26,26,26,26,26,24,26,2,2,2],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"South America","type":"scatter","name":"South America","marker":{"color":"rgba(188,189,34,1)","line":{"color":"rgba(188,189,34,1)"}},"error_y":{"color":"rgba(188,189,34,1)"},"error_x":{"color":"rgba(188,189,34,1)"},"line":{"color":"rgba(188,189,34,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01","2015-05-01","2015-06-01","2015-07-01","2015-08-01","2015-09-01","2015-10-01","2015-11-01","2015-12-01","2016-01-01","2016-02-01","2016-03-01","2016-04-01","2016-05-01","2016-06-01","2016-07-01","2016-08-01","2016-09-01","2016-10-01","2016-11-01","2016-12-01","2017-01-01","2017-02-01","2017-03-01","2017-04-01","2017-05-01","2017-06-01","2017-07-01","2017-08-01","2017-09-01","2017-10-01","2017-11-01","2017-12-01","2018-01-01","2018-02-01","2018-03-01","2018-04-01","2018-05-01","2018-06-01","2018-07-01","2018-08-01","2018-09-01","2018-10-01","2018-11-01","2018-12-01","2019-01-01","2019-02-01","2019-03-01","2019-04-01","2019-05-01","2019-06-01","2019-07-01","2019-08-01","2019-09-01","2019-10-01","2019-11-01","2019-12-01","2020-01-01","2020-02-01","2020-03-01","2020-04-01","2020-05-01","2020-06-01","2020-07-01","2020-08-01","2020-09-01","2020-10-01","2020-11-01","2020-12-01","2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01"],"y":[23854,23900,22260,22874,21650,22092,21738,19704,22178,21912,22608,22874,23800,24328,22182,22898,21766,22466,22280,19824,22860,22388,24222,24490,25254,25898,24300,25394,24324,24774,23312,22686,25156,24812,26192,26514,27938,27426,24312,25098,23196,23904,23700,21574,24696,24016,25472,26560,27748,27662,25010,25760,24384,25180,24394,22332,25698,25084,25886,26336,27480,27644,25674,26466,25256,25468,24982,22682,26064,25512,26734,27778,28720,29068,27838,28620,26908,27644,26870,25610,27638,27968,29324,29634,31350,31482,28526,29252,26990,27474,26584,24198,27824,27574,28810,29060,29582,31016,28954,29904,27796,28752,27780,24156,28864,29030,29812,29464,30904,30838,29140,30714,27774,27832,26998,24062,28348,27644,28740,28814,30126,30530,28098,29846,28068,27950,26594,25508,28816,28910,30604,30806,31904,32974,30062,29952,28672,28744,26672,23954,28728,27540,29752,30960,32740,34010,30732,31758,30036,31268,29248,26526,30188,29866,31022,31628,32554,33060,29566,30604,28948,29376,27564,24440,29206,28718,29584,30382,32084,34422,26280,29618,27658,28522,27878,26400,23916,6296,6692,8842,13046,13744,12468,13374,13144,13148,12170,10748,13344,13586,14478,16884,19356,19898,19850,20718,20136,20028,19350,18704,21334,21644,22404,23130,11975,11907,11266,11566,10657,10562],"mode":"none","stackgroup":"one","groupnorm":"percent","fillcolor":"US","type":"scatter","name":"US","marker":{"color":"rgba(23,190,207,1)","line":{"color":"rgba(23,190,207,1)"}},"error_y":{"color":"rgba(23,190,207,1)"},"error_x":{"color":"rgba(23,190,207,1)"},"line":{"color":"rgba(23,190,207,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>As expected, we can notice the change in geo’s landing distribution since March 2020 due to the Covid19 pandemic.</p>
<p>The <code>aircraft_manufacturer</code> column, as the name implies, provides the the aircraft manufacture. Let’s summarize the total landing during 2019, the most recent full calendar year, by the manufacturer type:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">activity_period</span> <span class="op">&gt;=</span> <span class="fl">201901</span> <span class="op">&amp;</span> <span class="va">activity_period</span> <span class="op">&lt;</span> <span class="fl">202001</span>,
             <span class="va">aircraft_manufacturer</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">aircraft_manufacturer</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>total_landing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">landing_count</span><span class="op">)</span>,
                `.groups` <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">total_landing</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
      <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html" class="external-link">plot_ly</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="op">~</span> <span class="va">aircraft_manufacturer</span>,
              values <span class="op">=</span> <span class="op">~</span> <span class="va">total_landing</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
      <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html" class="external-link">add_pie</a></span><span class="op">(</span>hole <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
      <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/layout.html" class="external-link">layout</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Landing Distribution by Aircraft Manufacturer During 2019"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-2871ce0d9313b5063011" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2871ce0d9313b5063011">{"x":{"visdat":{"10b59fc39f46":["function () ","plotlyVisDat"]},"cur_data":"10b59fc39f46","attrs":{"10b59fc39f46":{"labels":{},"values":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie","hole":0.6,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Landing Distribution by Aircraft Manufacturer During 2019","hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["Boeing","Airbus","Embraer","Bombardier","McDonnell Douglas"],"values":[208186,123802,48648,43752,8],"type":"pie","hole":0.6,"marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>Similarly, we can add the <code>aircract_body_type</code> and get the distribution of landing airplans during 2019 by manufacturer and body type (e.g., wide, narrow, etc.):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">activity_period</span> <span class="op">&gt;=</span> <span class="fl">201901</span> <span class="op">&amp;</span> <span class="va">activity_period</span> <span class="op">&lt;</span> <span class="fl">202001</span>,
             <span class="va">aircraft_manufacturer</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">aircraft_manufacturer</span>, <span class="va">aircraft_body_type</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>total_landing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">landing_count</span><span class="op">)</span>,
                `.groups` <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">total_landing</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 9 × 3</span></span>
<span class="co">#&gt;   aircraft_manufacturer aircraft_body_type total_landing</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Boeing                Narrow Body               <span style="text-decoration: underline;">156</span>286</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Airbus                Narrow Body               <span style="text-decoration: underline;">112</span>296</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Boeing                Wide Body                  <span style="text-decoration: underline;">51</span>900</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Embraer               Regional Jet               <span style="text-decoration: underline;">48</span>648</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Bombardier            Regional Jet               <span style="text-decoration: underline;">41</span>724</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Airbus                Wide Body                  <span style="text-decoration: underline;">11</span>506</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">7</span> Bombardier            Narrow Body                 <span style="text-decoration: underline;">2</span>028</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">8</span> McDonnell Douglas     Narrow Body                    6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">9</span> McDonnell Douglas     Wide Body                      2</span></code></pre></div>
<p>A Sankey plot enables us to get a distribution flow of some numeric value by multiple categorical variables. In the following example, we will use the <code>sankey_ly</code> function to plot the distribution of landing during 2019 by geo, flight type, and aircraft details:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">d</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">activity_period</span> <span class="op">&gt;=</span> <span class="fl">201901</span> <span class="op">&amp;</span> <span class="va">activity_period</span> <span class="op">&lt;</span> <span class="fl">202001</span>,
             <span class="va">aircraft_manufacturer</span> <span class="op">!=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">geo_region</span>, <span class="va">landing_aircraft_type</span>, 
           <span class="va">aircraft_manufacturer</span>, <span class="va">aircraft_model</span>, 
           <span class="va">aircraft_body_type</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>total_landing <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">landing_count</span><span class="op">)</span>,
            groups <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="../reference/sankey_ly.html">sankey_ly</a></span><span class="op">(</span>cat_cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"geo_region"</span>, 
                         <span class="st">"landing_aircraft_type"</span>, 
                         <span class="st">"aircraft_manufacturer"</span>,
                         <span class="st">"aircraft_model"</span>,
                         <span class="st">"aircraft_body_type"</span><span class="op">)</span>,
            num_col <span class="op">=</span> <span class="st">"total_landing"</span>,
            title <span class="op">=</span> <span class="st">"SFO Landing Summary by Geo Region and Aircraft Type During 2019"</span><span class="op">)</span>  </code></pre></div>
<div id="htmlwidget-683a6119e2b2f83d71d9" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-683a6119e2b2f83d71d9">{"x":{"visdat":{"10b5972c860c1":["function () ","plotlyVisDat"]},"cur_data":"10b5972c860c1","attrs":{"10b5972c860c1":{"orientation":"h","valueformat":".0f","node":{"label":["Asia","Australia / Oceania","Canada","Central America","Europe","Mexico","Middle East","US","Freighter","Passenger","Boeing","Airbus","Bombardier","Embraer","McDonnell Douglas","B744","B748","B772","A332","A333","A350","A359","A388","B773","B788","B789","B78X","A319","A320","A321","B736","B737","B738","B739","B752","B763","CRJ2","CRJ7","CRJ9","E175","A339","A343","A346","B762","DC10","B712","B753","B764","BCS1","CRJ1","E170","MD83","Wide Body","Narrow Body","Regional Jet"],"pad":15,"thickness":30,"line":{"color":"black","width":0.5}},"link":{"source":[0,0,1,2,3,4,4,5,6,7,7,8,8,9,9,9,9,9,11,11,11,11,11,11,11,11,11,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,13,13,14,14,27,28,29,18,19,40,41,42,20,21,22,45,30,31,32,33,15,16,34,46,43,35,47,17,23,24,25,26,48,49,36,37,38,44,50,39,51],"target":[8,9,9,9,9,8,9,9,9,8,9,10,14,11,10,12,13,14,27,28,29,18,19,40,41,42,20,21,22,45,30,31,32,33,15,16,34,46,43,35,47,17,23,24,25,26,48,49,36,37,38,50,39,44,51,53,53,53,52,52,52,52,52,52,52,52,53,53,53,53,53,52,52,53,53,52,52,52,52,52,52,52,52,53,54,54,54,54,52,54,54,53],"value":[1578,24726,3796,16354,2822,2,16534,9394,712,2490,345988,4068,2,123802,204118,43752,48648,6,11660,67892,32744,3000,970,270,686,794,218,3290,2278,3458,88,22262,50784,50750,3146,1200,20200,8744,8,3044,236,12238,17504,3126,10534,864,2028,46,34590,3750,3338,2,48646,2,6,11660,67892,32744,3000,970,270,686,794,218,3290,2278,3458,88,22262,50784,50750,3146,1200,20200,8744,8,3044,236,12238,17504,3126,10534,864,2028,46,34590,3750,3338,2,2,48646,6]},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"sankey"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"SFO Landing Summary by Geo Region and Aircraft Type During 2019","hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"orientation":"h","valueformat":".0f","node":{"label":["Asia","Australia / Oceania","Canada","Central America","Europe","Mexico","Middle East","US","Freighter","Passenger","Boeing","Airbus","Bombardier","Embraer","McDonnell Douglas","B744","B748","B772","A332","A333","A350","A359","A388","B773","B788","B789","B78X","A319","A320","A321","B736","B737","B738","B739","B752","B763","CRJ2","CRJ7","CRJ9","E175","A339","A343","A346","B762","DC10","B712","B753","B764","BCS1","CRJ1","E170","MD83","Wide Body","Narrow Body","Regional Jet"],"pad":15,"thickness":30,"line":{"color":"black","width":0.5}},"link":{"source":[0,0,1,2,3,4,4,5,6,7,7,8,8,9,9,9,9,9,11,11,11,11,11,11,11,11,11,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,13,13,14,14,27,28,29,18,19,40,41,42,20,21,22,45,30,31,32,33,15,16,34,46,43,35,47,17,23,24,25,26,48,49,36,37,38,44,50,39,51],"target":[8,9,9,9,9,8,9,9,9,8,9,10,14,11,10,12,13,14,27,28,29,18,19,40,41,42,20,21,22,45,30,31,32,33,15,16,34,46,43,35,47,17,23,24,25,26,48,49,36,37,38,50,39,44,51,53,53,53,52,52,52,52,52,52,52,52,53,53,53,53,53,52,52,53,53,52,52,52,52,52,52,52,52,53,54,54,54,54,52,54,54,53],"value":[1578,24726,3796,16354,2822,2,16534,9394,712,2490,345988,4068,2,123802,204118,43752,48648,6,11660,67892,32744,3000,970,270,686,794,218,3290,2278,3458,88,22262,50784,50750,3146,1200,20200,8744,8,3044,236,12238,17504,3126,10534,864,2028,46,34590,3750,3338,2,48646,2,6,11660,67892,32744,3000,970,270,686,794,218,3290,2278,3458,88,22262,50784,50750,3146,1200,20200,8744,8,3044,236,12238,17504,3126,10534,864,2028,46,34590,3750,3338,2,2,48646,6]},"type":"sankey","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Rami Krispin.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
