<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>San Francisco International Airport Monthly Air Passengers • sfo</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="San Francisco International Airport Monthly Air Passengers">
<meta property="og:description" content="Provides monthly statistics on the number of monthly air passengers at SFO airport such as operating airline, terminal, geo, etc.
             Data source: San Francisco data portal (DataSF) &lt;https://data.sfgov.org/Transportation/Air-Traffic-Passenger-Statistics/rkru-6vcg&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sfo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/v1_intro.html">Introduction</a>
    </li>
    <li>
      <a href="articles/v2_analyzing_sfo.html">Analyzing SFO Passengers</a>
    </li>
    <li>
      <a href="articles/v3_analyzing_landing.html">Analyzing SFO Landing</a>
    </li>
    <li>
      <a href="articles/v3_sankey.html">Create Sankey Diagram</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="sfo-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#sfo-" class="anchor"></a>sfo <a href="https://ramikrispin.github.io/sfo/"><img src="reference/figures/sfo.png" align="right" width="150" height="150"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>The <strong>sfo</strong> package provides summary statistics of the monthly passengers and landing in San Francisco International Airport (SFO).</p>
<p>Data source: San Francisco data portal - <a href="https://datasf.org/opendata/">DataSF API</a></p>
<p><img src="reference/figures/total.svg" width="90%"></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the stable version from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"sfo"</span>)
</pre></div>
<p>or install the development version from Github:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># install.packages("devtools")</span>
<span class="kw">devtools</span>::<span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"RamiKrispin/sfo"</span>, ref = <span class="st">"main"</span>)
</pre></div>
<div id="datasets" class="section level3">
<h3 class="hasAnchor">
<a href="#datasets" class="anchor"></a>Datasets</h3>
<p>The <strong>sfo</strong> package provides the following two datasets:</p>
<ul>
<li>
<code>sfo_passengers</code> - air traffic passengers statistics</li>
<li>
<code>sfo_stats</code> - air traffic landing statistics</li>
</ul>
<p>More information about the datasets available on the following <a href="https://ramikrispin.github.io/sfo/articles/v1_intro.html">vignette</a>.</p>
</div>
<div id="examples" class="section level3">
<h3 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h3>
<p>The <code>sfo_passengers</code> dataset provides a monthly summary of the number of passengers in SFO airport by different categories (such as terminal, geo, type, etc.):</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw">sfo</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"sfo_passengers"</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">sfo_passengers</span>)
<span class="co">#&gt;   activity_period operating_airline operating_airline_iata_code published_airline published_airline_iata_code   geo_summary geo_region activity_type_code price_category_code      terminal</span>
<span class="co">#&gt; 1          202009   United Airlines                          UA   United Airlines                          UA International     Mexico           Enplaned               Other    Terminal 3</span>
<span class="co">#&gt; 2          202009   United Airlines                          UA   United Airlines                          UA International     Mexico           Enplaned               Other    Terminal 3</span>
<span class="co">#&gt; 3          202009   United Airlines                          UA   United Airlines                          UA International     Mexico           Enplaned               Other International</span>
<span class="co">#&gt; 4          202009   United Airlines                          UA   United Airlines                          UA International     Mexico           Deplaned               Other International</span>
<span class="co">#&gt; 5          202009   United Airlines                          UA   United Airlines                          UA International     Europe           Enplaned               Other International</span>
<span class="co">#&gt; 6          202009   United Airlines                          UA   United Airlines                          UA International     Europe           Deplaned               Other International</span>
<span class="co">#&gt;   boarding_area passenger_count</span>
<span class="co">#&gt; 1             F            6712</span>
<span class="co">#&gt; 2             E             396</span>
<span class="co">#&gt; 3             G             376</span>
<span class="co">#&gt; 4             G            6817</span>
<span class="co">#&gt; 5             G            3851</span>
<span class="co">#&gt; 6             G            3700</span>
</pre></div>
<p>The <code>sfo_stats</code> dataset provides a monthly statistics on the air traffic landing at SFO airport:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"sfo_stats"</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="kw">sfo_stats</span>)
<span class="co">#&gt;   activity_period operating_airline operating_airline_iata_code published_airline published_airline_iata_code   geo_summary geo_region landing_aircraft_type aircraft_body_type aircraft_manufacturer</span>
<span class="co">#&gt; 1          202009   United Airlines                          UA   United Airlines                          UA International     Mexico             Passenger        Narrow Body                Airbus</span>
<span class="co">#&gt; 2          202009   United Airlines                          UA   United Airlines                          UA      Domestic         US             Passenger        Narrow Body                Boeing</span>
<span class="co">#&gt; 3          202009   United Airlines                          UA   United Airlines                          UA International     Canada             Passenger        Narrow Body                Boeing</span>
<span class="co">#&gt; 4          202009   United Airlines                          UA   United Airlines                          UA      Domestic         US             Passenger        Narrow Body                Boeing</span>
<span class="co">#&gt; 5          202009   United Airlines                          UA   United Airlines                          UA International     Mexico             Passenger        Narrow Body                Boeing</span>
<span class="co">#&gt; 6          202009   United Airlines                          UA   United Airlines                          UA      Domestic         US             Passenger        Narrow Body                Boeing</span>
<span class="co">#&gt;   aircraft_model aircraft_version landing_count total_landed_weight</span>
<span class="co">#&gt; 1           A320                -            37             5261326</span>
<span class="co">#&gt; 2           B738                -            14             2048200</span>
<span class="co">#&gt; 3           B738                -             1              146300</span>
<span class="co">#&gt; 4           B738                -           251            36721300</span>
<span class="co">#&gt; 5           B738                -             3              438900</span>
<span class="co">#&gt; 6           B739                -           553            86986900</span>
</pre></div>
<div id="total-number-of-passngers" class="section level4">
<h4 class="hasAnchor">
<a href="#total-number-of-passngers" class="anchor"></a>Total number of passngers</h4>
<p>The total number of passengers in most recent month by <code>activity_type_code</code> and <code>geo_region</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://dplyr.tidyverse.org">dplyr</a></span>)

<span class="kw">sfo_passengers</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="kw">activity_period</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="kw">activity_period</span>)) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="kw">activity_type_code</span>, <span class="kw">geo_region</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(total = <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="kw">passenger_count</span>), .groups = <span class="st">"drop"</span>)
<span class="co">#&gt; # A tibble: 16 x 3</span>
<span class="co">#&gt;    activity_type_code geo_region           total</span>
<span class="co">#&gt;    &lt;chr&gt;              &lt;chr&gt;                &lt;int&gt;</span>
<span class="co">#&gt;  1 Deplaned           Asia                 15775</span>
<span class="co">#&gt;  2 Deplaned           Australia / Oceania   2942</span>
<span class="co">#&gt;  3 Deplaned           Canada                4021</span>
<span class="co">#&gt;  4 Deplaned           Central America        505</span>
<span class="co">#&gt;  5 Deplaned           Europe               12031</span>
<span class="co">#&gt;  6 Deplaned           Mexico               11642</span>
<span class="co">#&gt;  7 Deplaned           Middle East           1490</span>
<span class="co">#&gt;  8 Deplaned           US                  394036</span>
<span class="co">#&gt;  9 Enplaned           Asia                 20123</span>
<span class="co">#&gt; 10 Enplaned           Australia / Oceania   3347</span>
<span class="co">#&gt; 11 Enplaned           Canada                4291</span>
<span class="co">#&gt; 12 Enplaned           Central America        328</span>
<span class="co">#&gt; 13 Enplaned           Europe               12271</span>
<span class="co">#&gt; 14 Enplaned           Mexico               12430</span>
<span class="co">#&gt; 15 Enplaned           Middle East           1176</span>
<span class="co">#&gt; 16 Enplaned           US                  409584</span>
</pre></div>
<p>The <code>sankey_ly</code> function enables us to plot the distribution of a numeric variable by multiple categorical variables. The following example shows the distribution of the total United Airlines passengers during 2019 by terminal, travel type (domestic and international), geo, and travel direction (deplaned, enplaned, and transit):</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="kw">sfo_passengers</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="kw">operating_airline</span> <span class="op">==</span> <span class="st">"United Airlines"</span>,
         <span class="kw">activity_period</span> <span class="op">&gt;=</span> <span class="fl">201901</span> <span class="op">&amp;</span> <span class="kw">activity_period</span> <span class="op">&lt;</span> <span class="fl">202001</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(terminal = <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="kw">terminal</span> <span class="op">==</span> <span class="st">"International"</span>, <span class="st">"international"</span>, <span class="kw">terminal</span>)) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="kw">operating_airline</span>,<span class="kw">activity_type_code</span>, <span class="kw">geo_summary</span>, <span class="kw">geo_region</span>,  <span class="kw">terminal</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(total = <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="kw">passenger_count</span>), .groups = <span class="st">"drop"</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/sankey_ly.html">sankey_ly</a></span>(cat_cols = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"operating_airline"</span>, <span class="st">"terminal"</span>,<span class="st">"geo_summary"</span>, <span class="st">"geo_region"</span>, <span class="st">"activity_type_code"</span>), 
            num_col = <span class="st">"total"</span>,
            title = <span class="st">"Dist. of United Airlines Passengers at SFO During 2019"</span>)
</pre></div>
<p><img src="reference/figures/sankey.svg" width="100%"></p>
</div>
<div id="total-number-of-landing" class="section level4">
<h4 class="hasAnchor">
<a href="#total-number-of-landing" class="anchor"></a>Total number of landing</h4>
<p>The total number of landing in most recent month by <code>activity_type_code</code> and <code>aircraft_manufacturer</code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="kw">sfo_stats</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="kw">activity_period</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="kw">activity_period</span>),
         <span class="kw">aircraft_manufacturer</span> != <span class="st">""</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="kw">aircraft_manufacturer</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(total_landing = <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="kw">landing_count</span>),
            `.groups` = <span class="st">"drop"</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(<span class="op">-</span><span class="kw">total_landing</span>) <span class="op">%&gt;%</span>
  <span class="fu">plot_ly</span>(labels = <span class="op">~</span> <span class="kw">aircraft_manufacturer</span>,
          values = <span class="op">~</span> <span class="kw">total_landing</span>) <span class="op">%&gt;%</span>
  <span class="fu">add_pie</span>(hole = <span class="fl">0.6</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/graphics/layout.html">layout</a></span>(title = <span class="st">"Landing Distribution by Aircraft Manufacturer during Sep 2020"</span>)
</pre></div>
<p><img src="reference/figures/manufacturer.svg" width="100%"></p>
<p>The following Sankey plot demonstrate the distribution of number of landing in SFO by region and aircraft type, manufacturer, and body type during Sep 2020:</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="kw">sfo_stats</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(<span class="kw">activity_period</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span>(<span class="kw">activity_period</span>)) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(<span class="kw">geo_summary</span>, <span class="kw">geo_region</span>, <span class="kw">landing_aircraft_type</span>, <span class="kw">aircraft_manufacturer</span>, <span class="kw">aircraft_body_type</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span>(total_landing = <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="kw">landing_count</span>),
  groups = <span class="st">"drop"</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="reference/sankey_ly.html">sankey_ly</a></span>(cat_cols = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"geo_summary"</span>, <span class="st">"geo_region"</span>, 
                         <span class="st">"landing_aircraft_type"</span>, 
                         <span class="st">"aircraft_manufacturer"</span>,
                         <span class="st">"aircraft_body_type"</span>),
            num_col = <span class="st">"total_landing"</span>,
            title = <span class="st">"Landing Summary by Geo Region and Aircraft Type During Sep 2020"</span>)
</pre></div>
<p><img src="reference/figures/landing_sankey.svg" width="100%"></p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=sfo">https://​cloud.r-project.org/​package=sfo</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Rami Krispin <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=sfo"><img src="https://www.r-pkg.org/badges/version/sfo" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="lifecycle"></a></li>
<li><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT"></a></li>
<li><a href="https://github.com/RamiKrispin/sfo/commit/main"><img src="https://img.shields.io/github/last-commit/RamiKrispin/sfo" alt="GitHub commit"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Rami Krispin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
